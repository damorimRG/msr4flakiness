public void testGetSelectQuery() throws Exception {
    EntityManager em = jpaService.getEntityManager();
    BundleActionBean bean = addRecordToBundleActionTable("test-bundle-id", "test-coord", 0, Job.Status.RUNNING);
    Query query = null;
    query = BundleActionQueryExecutor.getInstance().getSelectQuery(BundleActionQuery.GET_BUNDLE_ACTION, em, bean.getBundleId());
    assertEquals(query.getParameterValue("bundleActionId"), bean.getBundleId());
    query = BundleActionQueryExecutor.getInstance().getSelectQuery(BundleActionQuery.GET_BUNDLE_WAITING_ACTIONS_OLDER_THAN, em, (long) 100);
    Date date = DateUtils.toDate((Timestamp) (query.getParameterValue("lastModifiedTime")));
    assertTrue(date.before(Calendar.getInstance().getTime()));
    query = BundleActionQueryExecutor.getInstance().getSelectQuery(BundleActionQuery.GET_BUNDLE_UNIGNORED_ACTION_STATUS_PENDING_FOR_BUNDLE, em, bean.getBundleId());
    assertEquals(query.getParameterValue("bundleId"), bean.getBundleId());
}
