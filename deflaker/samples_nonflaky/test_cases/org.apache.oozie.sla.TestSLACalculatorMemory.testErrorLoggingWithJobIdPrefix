public void testErrorLoggingWithJobIdPrefix() throws Exception {
    SLAService slaService = Services.get().get(SLAService.class);
    SLACalculator slaCalculator = slaService.getSLACalculator();
    slaCalculator.addRegistration("dummy-id", _createSLARegistration("dummy-id", AppType.WORKFLOW_JOB));
    TestLogAppender appender = getTestLogAppender();
    Logger logger = Logger.getLogger(SLACalculatorMemory.class);
    logger.addAppender(appender);
    logger.setLevel(Level.ERROR);
    try {
        slaService.runSLAWorker();
    } finally {
        logger.removeAppender(appender);
    }
    List<LoggingEvent> log = appender.getLog();
    LoggingEvent firstLogEntry = log.get(0);
    assertEquals(Level.ERROR, firstLogEntry.getLevel());
    assertTrue(firstLogEntry.getMessage().toString().contains("JOB[dummy-id]"));
    assertEquals("org.apache.oozie.sla.SLACalculatorMemory", firstLogEntry.getLoggerName());
}
