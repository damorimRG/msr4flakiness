// Only "dummyuser" can kill the app, but we try "test2" instead
public void testCannotKillActionWhenACLSpecified() throws Exception {
    // Only "dummyuser" and the owner have the permission to kill the job
    String actionXml = "<java>" + "<job-tracker>" + getJobTrackerUri() + "</job-tracker>" + "<name-node>" + getNameNodeUri() + "</name-node>" + "<configuration>" + "  <property><name>oozie.launcher.modify.acl</name><value>dummyuser</value></property>" + "</configuration>" + "<main-class>" + LauncherMainTester.class.getName() + "</main-class>" + "<arg>sleep</arg>" + "<arg>10000</arg>" + "</java>";
    // Submitting WF as the default "test" user
    Context context = createContext(actionXml, null);
    String applicationId = submitAction(context);
    waitUntilYarnAppState(applicationId, EnumSet.of(YarnApplicationState.RUNNING));
    // Modify the user inside the workflow. It's necessary because the Yarn client is always
    // retrieved for the owner of the WF and owner always has the permission to kill its
    // own application
    WorkflowJobBean wfBean = (WorkflowJobBean) context.getWorkflow();
    wfBean.setUser(getTestUser2());
    JavaActionExecutor jae = new JavaActionExecutor();
    jae.kill(context, context.getAction());
    // Kill should fail - wait until the application is finished
    waitUntilYarnAppDoneAndAssertSuccess(applicationId);
}
