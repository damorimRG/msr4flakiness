@Test
public void testVisitCountForCheckAcceptingJavadocWithNonTightHtml() throws Exception {
    final DefaultConfiguration checkConfig = createModuleConfig(NonTightHtmlTagTolerantCheck.class);
    checkConfig.addAttribute("violateExecutionOnNonTightHtml", "true");
    checkConfig.addAttribute("reportVisitJavadocToken", "true");
    final String[] expected = { "4:4: " + getCheckMessage(MSG_SUMMARY_FIRST_SENTENCE), "5:4: " + getCheckMessage(MSG_SUMMARY_FIRST_SENTENCE), "6: " + getCheckMessage(MSG_UNCLOSED_HTML_TAG, "p"), "6:4: " + getCheckMessage(MSG_SUMMARY_FIRST_SENTENCE), "7:4: " + getCheckMessage(MSG_SUMMARY_FIRST_SENTENCE), "7:39: " + getCheckMessage(MSG_SUMMARY_FIRST_SENTENCE), "13: " + getCheckMessage(MSG_UNCLOSED_HTML_TAG, "p"), "13:9: " + getCheckMessage(MSG_SUMMARY_FIRST_SENTENCE), "13:13: " + getCheckMessage(MSG_SUMMARY_FIRST_SENTENCE), "16: " + getCheckMessage(MSG_UNCLOSED_HTML_TAG, "li"), "16:8: " + getCheckMessage(MSG_SUMMARY_FIRST_SENTENCE), "20:8: " + getCheckMessage(MSG_SUMMARY_FIRST_SENTENCE), "21: " + getCheckMessage(MSG_UNCLOSED_HTML_TAG, "p"), "21:8: " + getCheckMessage(MSG_SUMMARY_FIRST_SENTENCE), "21:30: " + getCheckMessage(MSG_SUMMARY_FIRST_SENTENCE), "26:8: " + getCheckMessage(MSG_SUMMARY_FIRST_SENTENCE), "26:22: " + getCheckMessage(MSG_SUMMARY_FIRST_SENTENCE), "27: " + getCheckMessage(MSG_UNCLOSED_HTML_TAG, "tr"), "32:8: " + getCheckMessage(MSG_SUMMARY_FIRST_SENTENCE), "33:8: " + getCheckMessage(MSG_SUMMARY_FIRST_SENTENCE), "34: " + getCheckMessage(MSG_UNCLOSED_HTML_TAG, "li"), "34:8: " + getCheckMessage(MSG_SUMMARY_FIRST_SENTENCE), "34:23: " + getCheckMessage(MSG_SUMMARY_FIRST_SENTENCE), "39:8: " + getCheckMessage(MSG_SUMMARY_FIRST_SENTENCE), "39:20: " + getCheckMessage(MSG_SUMMARY_FIRST_SENTENCE), "39:34: " + getCheckMessage(MSG_SUMMARY_FIRST_SENTENCE), "41: " + getCheckMessage(MSG_UNCLOSED_HTML_TAG, "li"), "41:16: " + getCheckMessage(MSG_SUMMARY_FIRST_SENTENCE), "41:21: " + getCheckMessage(MSG_SUMMARY_FIRST_SENTENCE), "49:8: " + getCheckMessage(MSG_SUMMARY_FIRST_SENTENCE), "51: " + getCheckMessage(MSG_UNCLOSED_HTML_TAG, "p"), "51:22: " + getCheckMessage(MSG_SUMMARY_FIRST_SENTENCE), "56:8: " + getCheckMessage(MSG_SUMMARY_FIRST_SENTENCE), "57:8: " + getCheckMessage(MSG_SUMMARY_FIRST_SENTENCE), "60: " + getCheckMessage(MSG_UNCLOSED_HTML_TAG, "tr"), "79:8: " + getCheckMessage(MSG_SUMMARY_FIRST_SENTENCE), "85: " + getCheckMessage(MSG_UNCLOSED_HTML_TAG, "p"), "85:9: " + getCheckMessage(MSG_SUMMARY_FIRST_SENTENCE), "85:13: " + getCheckMessage(MSG_SUMMARY_FIRST_SENTENCE), "85:33: " + getCheckMessage(MSG_SUMMARY_FIRST_SENTENCE) };
    verify(checkConfig, getPath("InputAbstractJavadocNonTightHtmlTags2.java"), expected);
}
