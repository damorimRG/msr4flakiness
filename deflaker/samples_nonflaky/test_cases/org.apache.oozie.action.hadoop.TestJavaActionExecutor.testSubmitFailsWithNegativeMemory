public void testSubmitFailsWithNegativeMemory() throws Exception {
    String actionXml = "<java>" + "<job-tracker>" + getJobTrackerUri() + "</job-tracker>" + "<name-node>" + getNameNodeUri() + "</name-node>" + "<configuration>" + "  <property><name>oozie.launcher.memory.mb</name><value>-1</value></property>" + "</configuration>" + "<main-class>" + LauncherMainTester.class.getName() + "</main-class>" + "</java>";
    Context context = createContext(actionXml, null);
    boolean exception = false;
    try {
        submitAction(context);
    } catch (ActionExecutorException e) {
        exception = true;
        assertEquals("Illegal exception was thrown", IllegalArgumentException.class, e.getCause().getClass());
    }
    assertTrue("Exception was not caught", exception);
}
