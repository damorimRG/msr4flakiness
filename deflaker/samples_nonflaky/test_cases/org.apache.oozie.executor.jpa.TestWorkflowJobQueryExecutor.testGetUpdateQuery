public void testGetUpdateQuery() throws Exception {
    EntityManager em = jpaService.getEntityManager();
    WorkflowJobBean bean = addRecordToWfJobTable(WorkflowJob.Status.PREP, WorkflowInstance.Status.PREP);
    // UPDATE_WORKFLOW
    Query query = WorkflowJobQueryExecutor.getInstance().getUpdateQuery(WorkflowJobQuery.UPDATE_WORKFLOW, bean, em);
    assertEquals(query.getParameterValue("appName"), bean.getAppName());
    assertEquals(query.getParameterValue("appPath"), bean.getAppPath());
    assertEquals(query.getParameterValue("conf"), bean.getConfBlob());
    assertEquals(query.getParameterValue("groupName"), bean.getGroup());
    assertEquals(query.getParameterValue("run"), bean.getRun());
    assertEquals(query.getParameterValue("user"), bean.getUser());
    assertEquals(query.getParameterValue("createdTime"), bean.getCreatedTimestamp());
    assertEquals(query.getParameterValue("endTime"), bean.getEndTimestamp());
    assertEquals(query.getParameterValue("externalId"), bean.getExternalId());
    assertEquals(query.getParameterValue("lastModTime"), bean.getLastModifiedTimestamp());
    assertEquals(query.getParameterValue("logToken"), bean.getLogToken());
    assertEquals(query.getParameterValue("protoActionConf"), bean.getProtoActionConfBlob());
    assertEquals(query.getParameterValue("slaXml"), bean.getSlaXmlBlob());
    assertEquals(query.getParameterValue("startTime"), bean.getStartTimestamp());
    assertEquals(query.getParameterValue("status"), bean.getStatus().toString());
    assertEquals(query.getParameterValue("wfInstance"), bean.getWfInstanceBlob());
    assertEquals(query.getParameterValue("id"), bean.getId());
    // UPDATE_WORKFLOW_MODTIME
    query = WorkflowJobQueryExecutor.getInstance().getUpdateQuery(WorkflowJobQuery.UPDATE_WORKFLOW_MODTIME, bean, em);
    assertEquals(query.getParameterValue("lastModTime"), bean.getLastModifiedTimestamp());
    assertEquals(query.getParameterValue("id"), bean.getId());
    // UPDATE_WORKFLOW_STATUS_MODTIME:
    query = WorkflowJobQueryExecutor.getInstance().getUpdateQuery(WorkflowJobQuery.UPDATE_WORKFLOW_STATUS_MODTIME, bean, em);
    assertEquals(query.getParameterValue("status"), bean.getStatus().toString());
    assertEquals(query.getParameterValue("lastModTime"), bean.getLastModifiedTimestamp());
    assertEquals(query.getParameterValue("id"), bean.getId());
    // UPDATE_WORKFLOW_PARENT_MODIFIED
    query = WorkflowJobQueryExecutor.getInstance().getUpdateQuery(WorkflowJobQuery.UPDATE_WORKFLOW_PARENT_MODIFIED, bean, em);
    assertEquals(query.getParameterValue("parentId"), bean.getParentId());
    assertEquals(query.getParameterValue("lastModTime"), bean.getLastModifiedTimestamp());
    assertEquals(query.getParameterValue("id"), bean.getId());
    // UPDATE_WORKFLOW_STATUS_INSTANCE_MODIFIED
    query = WorkflowJobQueryExecutor.getInstance().getUpdateQuery(WorkflowJobQuery.UPDATE_WORKFLOW_STATUS_INSTANCE_MODIFIED, bean, em);
    assertEquals(query.getParameterValue("status"), bean.getStatus().toString());
    assertEquals(query.getParameterValue("wfInstance"), bean.getWfInstanceBlob());
    assertEquals(query.getParameterValue("lastModTime"), bean.getLastModifiedTimestamp());
    assertEquals(query.getParameterValue("id"), bean.getId());
    // UPDATE_WORKFLOW_STATUS_INSTANCE_MOD_END
    query = WorkflowJobQueryExecutor.getInstance().getUpdateQuery(WorkflowJobQuery.UPDATE_WORKFLOW_STATUS_INSTANCE_MOD_END, bean, em);
    assertEquals(query.getParameterValue("status"), bean.getStatus().toString());
    assertEquals(query.getParameterValue("wfInstance"), bean.getWfInstanceBlob());
    assertEquals(query.getParameterValue("lastModTime"), bean.getLastModifiedTimestamp());
    assertEquals(query.getParameterValue("endTime"), bean.getEndTimestamp());
    assertEquals(query.getParameterValue("id"), bean.getId());
    // UPDATE_WORKFLOW_STATUS_INSTANCE_MOD_END
    query = WorkflowJobQueryExecutor.getInstance().getUpdateQuery(WorkflowJobQuery.UPDATE_WORKFLOW_STATUS_INSTANCE_MOD_END, bean, em);
    assertEquals(query.getParameterValue("status"), bean.getStatus().toString());
    assertEquals(query.getParameterValue("wfInstance"), bean.getWfInstanceBlob());
    assertEquals(query.getParameterValue("lastModTime"), bean.getLastModifiedTimestamp());
    assertEquals(query.getParameterValue("endTime"), bean.getEndTimestamp());
    assertEquals(query.getParameterValue("id"), bean.getId());
    // UPDATE_WORKFLOW_STATUS_INSTANCE_MOD_START_END
    query = WorkflowJobQueryExecutor.getInstance().getUpdateQuery(WorkflowJobQuery.UPDATE_WORKFLOW_STATUS_INSTANCE_MOD_START_END, bean, em);
    assertEquals(query.getParameterValue("status"), bean.getStatus().toString());
    assertEquals(query.getParameterValue("wfInstance"), bean.getWfInstanceBlob());
    assertEquals(query.getParameterValue("lastModTime"), bean.getLastModifiedTimestamp());
    assertEquals(query.getParameterValue("startTime"), bean.getStartTimestamp());
    assertEquals(query.getParameterValue("endTime"), bean.getEndTimestamp());
    assertEquals(query.getParameterValue("id"), bean.getId());
    // UPDATE_WORKFLOW_RERUN
    query = WorkflowJobQueryExecutor.getInstance().getUpdateQuery(WorkflowJobQuery.UPDATE_WORKFLOW_RERUN, bean, em);
    assertEquals(query.getParameterValue("appName"), bean.getAppName());
    assertEquals(query.getParameterValue("protoActionConf"), bean.getProtoActionConfBlob());
    assertEquals(query.getParameterValue("appPath"), bean.getAppPath());
    assertEquals(query.getParameterValue("conf"), bean.getConfBlob());
    assertEquals(query.getParameterValue("logToken"), bean.getLogToken());
    assertEquals(query.getParameterValue("user"), bean.getUser());
    assertEquals(query.getParameterValue("group"), bean.getGroup());
    assertEquals(query.getParameterValue("externalId"), bean.getExternalId());
    assertEquals(query.getParameterValue("endTime"), bean.getEndTimestamp());
    assertEquals(query.getParameterValue("run"), bean.getRun());
    assertEquals(query.getParameterValue("status"), bean.getStatus().toString());
    assertEquals(query.getParameterValue("wfInstance"), bean.getWfInstanceBlob());
    assertEquals(query.getParameterValue("lastModTime"), bean.getLastModifiedTimestamp());
    assertEquals(query.getParameterValue("id"), bean.getId());
}
