public void testBulkCoordSuspendResumeKillSuccess() throws Exception {
    String currentDatePlusMonth = XDataTestCase.getCurrentDateafterIncrementingInMonths(1);
    Date start = DateUtils.parseDateOozieTZ(currentDatePlusMonth);
    Date end = DateUtils.parseDateOozieTZ(currentDatePlusMonth);
    CoordinatorJobBean job1 = addRecordToCoordJobTable(CoordinatorJob.Status.RUNNING, start, end, false, false, 0);
    CoordinatorActionBean action1 = addRecordToCoordActionTable(job1.getId(), 1, CoordinatorAction.Status.RUNNING, "coord-action-get.xml", 0);
    CoordinatorJobBean job2 = addRecordToCoordJobTable(CoordinatorJob.Status.RUNNING, start, end, false, false, 0);
    CoordinatorActionBean action2 = addRecordToCoordActionTable(job2.getId(), 1, CoordinatorAction.Status.RUNNING, "coord-action-get.xml", 0);
    List<String> jobIds = new ArrayList<String>();
    jobIds.add(job1.getId());
    jobIds.add(job2.getId());
    List<String> actionIds = new ArrayList<String>();
    actionIds.add(action1.getId());
    actionIds.add(action2.getId());
    Map<String, List<String>> map = new HashMap<String, List<String>>();
    List<String> names = new ArrayList<String>();
    names.add("COORD-TEST");
    map.put("name", names);
    new BulkCoordXCommand(map, 1, 50, OperationType.Suspend).call();
    verifyJobsStatus(jobIds, CoordinatorJob.Status.SUSPENDED);
    verifyActionsStatus(actionIds, CoordinatorAction.Status.SUSPENDED);
    new BulkCoordXCommand(map, 1, 50, OperationType.Resume).call();
    verifyJobsStatus(jobIds, CoordinatorJob.Status.RUNNING);
    verifyActionsStatus(actionIds, CoordinatorAction.Status.RUNNING);
    new BulkCoordXCommand(map, 1, 50, OperationType.Kill).call();
    verifyJobsStatus(jobIds, CoordinatorJob.Status.KILLED);
    verifyActionsStatus(actionIds, CoordinatorAction.Status.KILLED);
}
