/*
     * Test rerun of failed action
     */
public void testCoordRerunFailedCoordAction() throws Exception {
    final String jobId = "0000000-" + new Date().getTime() + "-testCoordRerun-C";
    final int actionNum = 1;
    final String actionId = jobId + "@" + actionNum;
    try {
        addRecordToJobTable(jobId, CoordinatorJob.Status.RUNNING);
        addRecordToActionTable(jobId, actionNum, actionId, CoordinatorAction.Status.FAILED, "coord-rerun-action1.xml");
    } catch (Exception e) {
        e.printStackTrace();
        fail("Could not update db.");
    }
    try {
        final OozieClient coordClient = LocalOozie.getCoordClient();
        coordClient.reRunCoord(jobId, RestConstants.JOB_COORD_SCOPE_ACTION, Integer.toString(actionNum), false, true);
    } catch (OozieClientException ex) {
        ex.printStackTrace();
        fail("Coord rerun failed");
    }
    CoordinatorActionBean action2 = getCoordinatorAction(actionId);
    assertEquals(action2.getStatus(), CoordinatorAction.Status.WAITING);
    assertEquals(action2.getErrorCode(), "");
    assertEquals(action2.getErrorMessage(), "");
}
