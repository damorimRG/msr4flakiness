public void testParserGlobalJobXML() throws Exception {
    String workFlowXml = "wf-schema-valid-global-jobXml.xml";
    String nodeName = "d";
    String d = getNodeConfig(workFlowXml, nodeName);
    String configuration = extractConfigurationFromXML(d);
    Map<String, String> expectedConfigs = new HashMap<>();
    expectedConfigs.put("a", "A");
    expectedConfigs.put("b", "B");
    String expectedNameNode = "bar";
    String expectedJobTracker = "foo";
    checkGlobalParametersInAction(d, configuration, expectedNameNode, expectedJobTracker, expectedConfigs);
    assertTrue("Missing spam1 job-xml parameter", d.contains("<job-xml>/spam1</job-xml>\r\n"));
    assertTrue("Missing spam2 job-xml parameter", d.contains("<job-xml>/spam2</job-xml>\r\n"));
    assertTrue("Missing /tmp job-xml parameter", d.contains("<job-xml>/tmp</job-xml>\r\n"));
}
