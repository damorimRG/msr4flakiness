@Test
public void testValidateInvalidRestrictionDef() throws Exception {
    RestrictionProvider rp = CompositeRestrictionProvider.newInstance(rp1, rp3);
    Tree aceNode = TreeUtil.addChild(root.getTree("/"), "test", NT_REP_GRANT_ACE);
    Tree rNode = TreeUtil.addChild(aceNode, REP_RESTRICTIONS, NT_REP_RESTRICTIONS);
    rNode.setProperty(PropertyStates.createProperty("longs", ImmutableList.of(vf.createValue(10), vf.createValue(290))));
    try {
        rp.validateRestrictions("/test", aceNode);
        fail("Validation must detect invalid restriction definition");
    } catch (AccessControlException e) {
    // success
    }
}
