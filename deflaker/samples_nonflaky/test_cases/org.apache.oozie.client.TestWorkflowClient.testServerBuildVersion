public void testServerBuildVersion() throws Exception {
    runTest(END_POINTS, SERVLET_CLASSES, IS_SECURITY_ENABLED, new Callable<Void>() {

        public Void call() throws Exception {
            String oozieUrl = getContextURL();
            OozieClient wc = new OozieClient(oozieUrl);
            String buildVersion = wc.getServerBuildVersion();
            JSONObject buildInfo = (JSONObject) JSONValue.parse(buildVersion);
            for (String buildInfoKey : BuildInfo.getBuildInfo().stringPropertyNames()) {
                assertEquals("Build value difference in key " + buildInfoKey, BuildInfo.getBuildInfo().getProperty(buildInfoKey), buildInfo.get(buildInfoKey));
            }
            return null;
        }
    });
}
