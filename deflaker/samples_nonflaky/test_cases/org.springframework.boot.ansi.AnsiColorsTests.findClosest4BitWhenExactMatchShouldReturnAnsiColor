@Test
void findClosest4BitWhenExactMatchShouldReturnAnsiColor() {
    assertThat(findClosest4Bit(0x000000)).isEqualTo(AnsiColor.BLACK);
    assertThat(findClosest4Bit(0xAA0000)).isEqualTo(AnsiColor.RED);
    assertThat(findClosest4Bit(0x00AA00)).isEqualTo(AnsiColor.GREEN);
    assertThat(findClosest4Bit(0xAA5500)).isEqualTo(AnsiColor.YELLOW);
    assertThat(findClosest4Bit(0x0000AA)).isEqualTo(AnsiColor.BLUE);
    assertThat(findClosest4Bit(0xAA00AA)).isEqualTo(AnsiColor.MAGENTA);
    assertThat(findClosest4Bit(0x00AAAA)).isEqualTo(AnsiColor.CYAN);
    assertThat(findClosest4Bit(0xAAAAAA)).isEqualTo(AnsiColor.WHITE);
    assertThat(findClosest4Bit(0x555555)).isEqualTo(AnsiColor.BRIGHT_BLACK);
    assertThat(findClosest4Bit(0xFF5555)).isEqualTo(AnsiColor.BRIGHT_RED);
    assertThat(findClosest4Bit(0x55FF00)).isEqualTo(AnsiColor.BRIGHT_GREEN);
    assertThat(findClosest4Bit(0xFFFF55)).isEqualTo(AnsiColor.BRIGHT_YELLOW);
    assertThat(findClosest4Bit(0x5555FF)).isEqualTo(AnsiColor.BRIGHT_BLUE);
    assertThat(findClosest4Bit(0xFF55FF)).isEqualTo(AnsiColor.BRIGHT_MAGENTA);
    assertThat(findClosest4Bit(0x55FFFF)).isEqualTo(AnsiColor.BRIGHT_CYAN);
    assertThat(findClosest4Bit(0xFFFFFF)).isEqualTo(AnsiColor.BRIGHT_WHITE);
}
