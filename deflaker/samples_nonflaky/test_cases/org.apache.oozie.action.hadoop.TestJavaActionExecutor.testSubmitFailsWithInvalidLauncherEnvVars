public void testSubmitFailsWithInvalidLauncherEnvVars() throws Exception {
    String actionXml = "<java>" + "<job-tracker>" + getJobTrackerUri() + "</job-tracker>" + "<name-node>" + getNameNodeUri() + "</name-node>" + "<configuration>" + "  <property><name>oozie.launcher.env</name><value>Afoo1" + File.pathSeparator + "B=foo2</value></property>" + "</configuration>" + "<main-class>" + LauncherMainTester.class.getName() + "</main-class>" + "</java>";
    Context context = createContext(actionXml, null);
    try {
        submitAction(context);
        fail();
    } catch (ActionExecutorException e) {
        assertTrue(e.getMessage().contains("Invalid launcher setting for environment variables"));
    }
}
