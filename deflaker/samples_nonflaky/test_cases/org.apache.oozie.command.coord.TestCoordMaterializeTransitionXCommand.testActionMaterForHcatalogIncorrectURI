public void testActionMaterForHcatalogIncorrectURI() throws Exception {
    Services.get().destroy();
    Services services = super.setupServicesForHCatalog();
    services.init();
    Date startTime = DateUtils.parseDateOozieTZ("2009-03-06T010:00Z");
    Date endTime = DateUtils.parseDateOozieTZ("2009-03-11T10:00Z");
    CoordinatorJobBean job = addRecordToCoordJobTableForWaiting("coord-job-for-matd-neg-hcat.xml", CoordinatorJob.Status.RUNNING, startTime, endTime, false, false, 0);
    try {
        new CoordMaterializeTransitionXCommand(job.getId(), hoursToSeconds(1)).call();
        fail("Expected Command exception but didn't catch any");
    } catch (CommandException e) {
        e.printStackTrace();
        job = services.get(JPAService.class).execute(new CoordJobGetJPAExecutor(job.getId()));
        assertEquals(CoordinatorJob.Status.FAILED, job.getStatus());
        assertEquals(ErrorCode.E1012, e.getErrorCode());
    } catch (Exception e) {
        fail("Unexpected exception " + e.getMessage());
    }
}
