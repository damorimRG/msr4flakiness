@Test
public void readOnly() throws Exception {
    try {
        MongoUtils.dropCollections(mongoConnection.getDatabase());
        MongoDocumentNodeStoreBuilder mdnssb = MongoDocumentNodeStoreBuilder.newMongoDocumentNodeStoreBuilder().setReadOnlyMode();
        MongoBlobStore mbs = new MongoBlobStore(mongoConnection.getDatabase(), 0, mdnssb);
        fail("Read-only instantiation should fail when collection is missing, but got: " + mbs);
    } catch (RuntimeException expected) {
    }
}
