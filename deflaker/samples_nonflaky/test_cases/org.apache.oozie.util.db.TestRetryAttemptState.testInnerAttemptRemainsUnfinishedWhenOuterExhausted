@Test
public void testInnerAttemptRemainsUnfinishedWhenOuterExhausted() throws InterruptedException {
    final NestedAttempt inner = new NestedAttempt(false);
    final NestedAttempt outer = new NestedAttempt(inner, true);
    outer.run();
    assertTrue("retry attempts exhausted", state.isExhausted());
    assertEquals("retry attempt count", 1, state.getInProgressCount());
}
