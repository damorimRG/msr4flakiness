public void testWorkflowWithGlobalLevelResourceManager() throws Exception {
    final LiteWorkflowAppParser parser = newLiteWorkflowAppParser();
    final String wf = "<workflow-app xmlns=\"uri:oozie:workflow:1.0\" name=\"test\" > " + "<global>" + "   <resource-manager>localhost</resource-manager>" + "  <name-node>localhost</name-node>" + "</global>" + "<start to=\"test\"/>" + "<action name=\"test\">" + "  <java>" + "    <main-class>com.retry</main-class>" + "  </java>" + "  <ok to=\"end\"/>" + "  <error to=\"end\"/>" + "</action>" + "<end name=\"end\"/>" + "</workflow-app>";
    final Configuration conf = new Configuration();
    final LiteWorkflowApp app = parser.validateAndParse(new StringReader(wf), conf);
    assertTrue(app.getNode("test").getConf().contains("resource-manager"));
}
