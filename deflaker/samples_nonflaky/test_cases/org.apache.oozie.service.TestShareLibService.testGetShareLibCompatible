@Test
public void testGetShareLibCompatible() throws Exception {
    FileSystem fs = getFileSystem();
    Path basePath = new Path(getOozieConfig().get(WorkflowAppService.SYSTEM_LIB_PATH));
    // Use basepath if there is no timestamped directory
    fs.mkdirs(basePath);
    Path pigPath = new Path(basePath.toString() + Path.SEPARATOR + "pig");
    fs.mkdirs(pigPath);
    services.init();
    ShareLibService shareLibService = Services.get().get(ShareLibService.class);
    assertNotNull(shareLibService.getShareLibJars("pig"));
}
