@Test
public void testNestedAttemptsFinishSuccessfullyWhenNotExhausted() throws InterruptedException {
    final NestedAttempt inner = new NestedAttempt(false);
    final NestedAttempt outer = new NestedAttempt(inner, false);
    outer.run();
    assertFalse("retry attempts exhausted", state.isExhausted());
    assertEquals("retry attempt count", 0, state.getInProgressCount());
}
