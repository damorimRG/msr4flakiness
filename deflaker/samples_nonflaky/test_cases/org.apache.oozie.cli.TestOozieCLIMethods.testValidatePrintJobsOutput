/**
 * Create {@code CoordinatorJob} mock,
 * call {@code new OozieCLI().printJobs() }
 * and validate {@code System.out} on match with expected pattern
 * <p>
 * Method do pass only if output matched with predefined pattern
 * </p>
 */
@Test
public void testValidatePrintJobsOutput() throws IOException {
    final DataObject dtObject1 = new DataObject() {

        {
            this.deamonName = "testWorkflowJob1";
            this.appName = "testWorkflowJobApp1";
            this.appPath = "testWorkflowJobAppPath1";
        }
    };
    final DataObject dtObject2 = new DataObject() {

        {
            this.deamonName = "testWorkflowJob2";
            this.appName = "testWorkflowJobApp2";
            this.appPath = "testWorkflowJobAppPath2";
        }
    };
    ImmutableList<WorkflowJob> workflowJobs = ImmutableList.of(createWorkflowJob(dtObject1), createWorkflowJob(dtObject2));
    Pattern pattern = Pattern.compile(dtObject1.deamonName + "[\\s]+" + dtObject1.appName + "[\\s]+" + dtObject1.appPath);
    assertPrintWorkflowJobOutput(readWorkflowJobsOutput(workflowJobs, true), pattern);
    pattern = Pattern.compile(dtObject1.deamonName + "[\\s]+" + dtObject1.appName);
    assertPrintWorkflowJobOutput(readWorkflowJobsOutput(workflowJobs, false), pattern);
}
