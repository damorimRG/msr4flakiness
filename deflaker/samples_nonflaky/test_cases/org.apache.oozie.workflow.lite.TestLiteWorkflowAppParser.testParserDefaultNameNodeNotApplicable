public void testParserDefaultNameNodeNotApplicable() throws Exception {
    ConfigurationService.set("oozie.actions.default.name-node", "default-nn");
    // Not all actions want a NN (e.g. email action)
    String workFlowXml = "wf-schema-no-namenode.xml";
    String nodeName = "b1";
    String b1 = getNodeConfig(workFlowXml, nodeName);
    String expectedB1 = "<email xmlns=\"uri:oozie:email-action:0.2\">\r\n" + "  <to>foo@bar.com</to>\r\n" + "  <subject>foo</subject>\r\n" + "  <body>bar</body>\r\n" + "</email>";
    b1 = cleanupXml(b1);
    assertEquals(expectedB1.replaceAll(" ", ""), b1.replaceAll(" ", ""));
}
