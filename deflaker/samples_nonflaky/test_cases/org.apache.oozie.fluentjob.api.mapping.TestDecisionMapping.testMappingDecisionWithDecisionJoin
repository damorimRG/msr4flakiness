@Test
public void testMappingDecisionWithDecisionJoin() {
    final String child1Name = "child1";
    final String child2Name = "child2";
    final Decision decision = new Decision("decision");
    final NodeBase decisionJoin1 = new DecisionJoin("decisionJoin1", new Decision("decision"));
    decisionJoin1.addParentWithCondition(decision, Condition.actualCondition("condition"));
    final NodeBase decisionJoin2 = new DecisionJoin("decisionJoin2", new Decision("decision2"));
    decisionJoin2.addParentDefaultConditional(decision);
    final NodeBase child1 = new ExplicitNode(child1Name, null);
    child1.addParent(decisionJoin1);
    final NodeBase child2 = new ExplicitNode(child2Name, null);
    child2.addParent(decisionJoin2);
    final DECISION mappedDecision = DozerBeanMapperSingleton.instance().map(decision, DECISION.class);
    assertEquals(child1Name, mappedDecision.getSwitch().getCase().get(0).getTo());
    assertEquals(child2Name, mappedDecision.getSwitch().getDefault().getTo());
}
