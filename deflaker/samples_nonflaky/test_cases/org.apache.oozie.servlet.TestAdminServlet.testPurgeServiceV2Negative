public void testPurgeServiceV2Negative() throws Exception {
    runTest("/v2/admin/*", V2AdminServlet.class, IS_SECURITY_ENABLED, new Callable<Void>() {

        @Override
        public Void call() throws Exception {
            Map<String, String> params = new HashMap<>();
            params.put(RestConstants.PURGE_WF_AGE, "30");
            params.put(RestConstants.PURGE_COORD_AGE, "7");
            params.put(RestConstants.PURGE_BUNDLE_AGE, "-7");
            URL url = createURL(RestConstants.ADMIN_PURGE, params);
            HttpURLConnection connection = (HttpURLConnection) url.openConnection();
            connection.setRequestMethod("PUT");
            assertEquals(HttpServletResponse.SC_BAD_REQUEST, connection.getResponseCode());
            return null;
        }
    });
}
