public void testMultipleDestAddress() throws Exception {
    String id = "0000000-000000000000001-oozie-wrkf-C@1";
    SLACalcStatus event = _createSLACalcStatus(id);
    SLARegistrationBean eventBean = event.getSLARegistrationBean();
    Date startDate = DateUtils.parseDateUTC("2013-01-01T00:00Z");
    // set multiple addresses as alert contact
    eventBean.setAlertContact("alert-receiver1@oozie.com, alert-receiver2@oozie.com");
    event.setEventStatus(EventStatus.START_MISS);
    event.setId(id);
    eventBean.setAppType(AppType.COORDINATOR_ACTION);
    eventBean.setAppName("Test-SLA-Start-Miss");
    eventBean.setUser("dummyuser");
    eventBean.setExpectedStart(startDate);
    eventBean.setNotificationMsg("notification of start miss");
    eventBean.setAppType(AppType.COORDINATOR_ACTION);
    event.setActualStart(DateUtils.parseDateUTC("2013-01-01T01:00Z"));
    slaEmailListener.onStartMiss(event);
    MimeMessage[] msgs = greenMail.getReceivedMessages();
    MimeMessage msg = msgs[0];
    assertEquals(msg.getFrom()[0].toString(), "oozie@localhost");
    assertEquals(msg.getRecipients(RecipientType.TO)[0].toString(), "alert-receiver1@oozie.com");
    assertEquals(msg.getRecipients(RecipientType.TO)[1].toString(), "alert-receiver2@oozie.com");
}
