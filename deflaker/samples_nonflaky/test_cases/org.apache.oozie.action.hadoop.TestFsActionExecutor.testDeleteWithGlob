public void testDeleteWithGlob() throws Exception {
    FsActionExecutor ae = new FsActionExecutor();
    FileSystem fs = getFileSystem();
    Context context = createContext("<fs/>");
    Path basePath = new Path(getFsTestCaseDir(), "2010");
    fs.mkdirs(basePath);
    fs.mkdirs(new Path(basePath, "10"));
    fs.createNewFile(new Path(basePath + "/10/newfile1"));
    fs.createNewFile(new Path(basePath + "/10/newfile2"));
    fs.mkdirs(new Path(basePath, "11"));
    fs.createNewFile(new Path(basePath + "/11/newfile3"));
    fs.mkdirs(new Path(basePath, "12"));
    fs.createNewFile(new Path(basePath + "/12/newfile4"));
    Path globPath = new Path(basePath + "/1{0,1}/*");
    ae.delete(context, globPath);
    assertFalse(fs.exists(new Path(basePath + "/10/newfile1")));
    assertFalse(fs.exists(new Path(basePath + "/10/newfile2")));
    assertFalse(fs.exists(new Path(basePath + "/11/newfile3")));
    assertTrue(fs.exists(new Path(basePath + "/12/newfile4")));
    fs.delete(basePath, true);
}
