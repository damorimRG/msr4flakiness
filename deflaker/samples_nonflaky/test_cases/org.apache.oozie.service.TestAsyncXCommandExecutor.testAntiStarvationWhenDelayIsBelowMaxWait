@Test
public void testAntiStarvationWhenDelayIsBelowMaxWait() {
    when(callableWrapper.getDelay(eq(TimeUnit.MILLISECONDS))).thenReturn(-200L);
    when(callableWrapper.getPriority()).thenReturn(0);
    pendingCommandsPerType.put(DEFAULT_TYPE, Sets.newHashSet(callableWrapper));
    asyncExecutor.checkMaxConcurrency(DEFAULT_TYPE);
    verify(callableWrapper, never()).setPriority(anyInt());
    verify(callableWrapper, never()).setDelay(anyLong(), any(TimeUnit.class));
}
