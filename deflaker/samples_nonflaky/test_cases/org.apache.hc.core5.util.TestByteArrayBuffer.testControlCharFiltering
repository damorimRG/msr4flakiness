@Test
public void testControlCharFiltering() throws Exception {
    final char[] chars = new char[256];
    for (char i = 0; i < 256; i++) {
        chars[i] = i;
    }
    final byte[] bytes = asByteArray(chars);
    Assert.assertEquals("?????????\t??????????????????????" + " !\"#$%&'()*+,-./0123456789:;<=>?" + "@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_" + "`abcdefghijklmnopqrstuvwxyz" + "{|}~???????????????????????" + "??????????\u00A0¡¢£¤¥¦§¨©ª«¬\u00AD®¯" + "°±²³´µ¶·¸¹º»¼½¾¿ÀÁÂÃÄÅÆÇÈÉÊËÌÍÎÏ" + "ÐÑÒÓÔÕÖ×ØÙÚÛÜÝÞßàáâãäåæçèéêëìíîï" + "ðñòóôõö÷øùúûüýþÿ", new String(bytes, StandardCharsets.ISO_8859_1));
}
