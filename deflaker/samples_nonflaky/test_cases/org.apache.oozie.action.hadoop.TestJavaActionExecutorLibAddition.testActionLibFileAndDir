public void testActionLibFileAndDir() throws Exception {
    makeDirs(getActionLibPath());
    List<Path> expectedJars = createTestActionLibPaths(new Path(getActionLibPath(), "jar1.jar"), new Path(getActionLibPath(), "jar2.jar"), new Path(getFsTestCaseDir(), "jar3.jar"));
    String actionXml = "<java>" + "<job-tracker>" + getJobTrackerUri() + "</job-tracker>" + "<name-node>" + getNameNodeUri() + "</name-node>" + "<configuration>" + "<property><name>oozie.launcher.oozie.libpath</name><value>" + getActionLibPath() + "," + expectedJars.get(2) + "</value></property>" + "</configuration>" + "<main-class>MAIN-CLASS</main-class>" + "</java>";
    Context context = createContext(actionXml, null);
    Configuration jobConf = createActionExecutorAndSetLibFilesArchives(context);
    assertContainsJars(getDistributedCacheFilesStr(jobConf), expectedJars);
}
