@SuppressWarnings("deprecation")
@Test
public void testCreateSlaRegistrationEventMinReqFields() throws Exception {
    Date nomDate = DateUtils.parseDateOozieTZ("2014-01-01T01:01Z");
    String slaXML = " <sla:info xmlns:sla='uri:oozie:sla:0.2'>" + " <sla:nominal-time>" + DateUtils.formatDateOozieTZ(nomDate) + "</sla:nominal-time>" + " <sla:should-end>5</sla:should-end>" + "</sla:info>";
    Element eSla = XmlUtils.parseXml(slaXML);
    SLAEventBean regEvent = SLADbXOperations.createSlaRegistrationEvent(eSla, "id1", SLAEvent.SlaAppType.WORKFLOW_JOB, "user1", "group1");
    assertEquals(SLAEvent.SlaAppType.WORKFLOW_JOB, regEvent.getAppType());
    assertEquals(new Date(nomDate.getTime() + 5 * 60 * 1000), regEvent.getExpectedEnd());
    assertEquals("group1", regEvent.getGroupName());
    assertEquals("id1", regEvent.getSlaId());
    assertEquals("user1", regEvent.getUser());
}
