@Test
public void addPathTwoLevels() {
    String rev0 = mk.getHeadRevision();
    String rev1 = mk.commit("/", "+\"level1\":{}", null, null);
    rev1 = mk.commit("/", "+\"level1/level2\":{}", null, null);
    assertTrue(mk.nodeExists("/level1", null));
    assertTrue(mk.nodeExists("/level1/level2", null));
    String reverseDiff = mk.diff(rev1, rev0, null, 0);
    assertNotNull(reverseDiff);
    assertTrue(reverseDiff.length() > 0);
    mk.commit("", reverseDiff, null, null);
    assertFalse(mk.nodeExists("/level1", null));
    assertFalse(mk.nodeExists("/level1/level2", null));
}
