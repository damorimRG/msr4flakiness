/**
 * Test : The subworkflow should get purged, but the workflow parent shouldn't get purged --> neither will get purged
 *
 * @throws Exception if cannot insert records to the database
 */
public void testSucceededWorkflowRunningSubWorkflow() throws Exception {
    WorkflowJobBean wfJob = addRecordToWfJobTableForNegCase(WorkflowJob.Status.RUNNING, WorkflowInstance.Status.RUNNING);
    WorkflowActionBean wfAction = addRecordToWfActionTable(wfJob.getId(), "1", WorkflowAction.Status.OK);
    WorkflowJobBean subwfJob = addRecordToWfJobTable(WorkflowJob.Status.SUCCEEDED, WorkflowInstance.Status.SUCCEEDED, wfJob.getId());
    WorkflowActionBean subwfAction = addRecordToWfActionTable(subwfJob.getId(), "1", WorkflowAction.Status.OK);
    purgeWithDefaultParameters();
    assertWorkflowJobNotPurged(wfJob);
    assertWorkflowActionNotPurged(wfAction);
    assertWorkflowJobNotPurged(subwfJob);
    assertWorkflowActionNotPurged(subwfAction);
}
