@Test
public void testReadTillAvailable() throws Exception {
    checkSampleStringWithDifferentMaxLength(new StringAndIntProcessingCallback() {

        public void call(String sampleString, int suggestedMaxLength) throws IOException {
            readTillAvailableAndAssert(sampleString, suggestedMaxLength);
        }
    });
}
