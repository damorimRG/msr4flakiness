@Test
public void testDrainBuffersRandomPause() throws Exception {
    checkSampleStringWithDifferentMaxLength(new StringAndIntProcessingCallback() {

        public void call(String sampleString, int suggestedMaxLength) throws IOException, InterruptedException {
            checkDrainBuffersRandomPause(sampleString, "", suggestedMaxLength);
            checkDrainBuffersRandomPause("", sampleString.toLowerCase(), suggestedMaxLength);
            checkDrainBuffersRandomPause(sampleString, sampleString.toLowerCase(), suggestedMaxLength);
        }
    });
}
