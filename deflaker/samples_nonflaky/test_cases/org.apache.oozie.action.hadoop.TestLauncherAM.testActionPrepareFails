@Test
public void testActionPrepareFails() throws Exception {
    launcherJobConfig.set(LauncherAM.ACTION_PREPARE_XML, DUMMY_XML);
    willThrow(new IOException()).given(prepareHandlerMock).prepareAction(anyString(), any(Configuration.class));
    thrown.expect(IOException.class);
    try {
        executeLauncher();
    } finally {
        failureDetails.expectedExceptionMessage(null).expectedErrorCode(EXIT_CODE_0).expectedErrorReason("Prepare execution in the Launcher AM has failed").withStackTrace();
        assertFailedExecution();
    }
}
