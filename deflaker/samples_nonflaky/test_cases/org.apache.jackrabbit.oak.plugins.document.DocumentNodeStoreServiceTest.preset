@Test
public void preset() throws Exception {
    MockOsgi.setConfigForPid(context.bundleContext(), Configuration.PRESET_PID, DocumentNodeStoreServiceConfiguration.PROP_SO_KEEP_ALIVE, true);
    MockOsgi.activate(preset, context.bundleContext());
    MockOsgi.setConfigForPid(context.bundleContext(), PID, newConfig(repoHome));
    MockOsgi.activate(service, context.bundleContext());
    DocumentNodeStore store = context.getService(DocumentNodeStore.class);
    MongoDocumentStore mds = getMongoDocumentStore(store);
    assertNotNull(mds);
    MongoClient client = MongoDocumentStoreTestHelper.getClient(mds);
    assertTrue(client.getMongoClientOptions().isSocketKeepAlive());
}
