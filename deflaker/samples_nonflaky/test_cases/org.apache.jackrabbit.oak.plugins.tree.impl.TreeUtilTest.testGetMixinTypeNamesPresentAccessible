@Test
public void testGetMixinTypeNamesPresentAccessible() throws Exception {
    Tree testTree = TreeUtil.addChild(root.getTree("/"), "test", NodeTypeConstants.NT_OAK_UNSTRUCTURED);
    TreeUtil.addMixin(testTree, "mix:title", root.getTree(NodeTypeConstants.NODE_TYPES_PATH), "uid");
    String path = testTree.getPath();
    Iterable<String> expected = TreeUtil.getMixinTypeNames(root.getTree(path));
    assertTrue(Iterables.contains(expected, "mix:title"));
    assertTrue(Iterables.elementsEqual(expected, TreeUtil.getMixinTypeNames(testTree, new LazyValue<Tree>() {

        @Override
        protected Tree createValue() {
            return testTree;
        }
    })));
}
