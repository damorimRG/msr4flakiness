public void testGetJobInfoForWrongTimeFormat() throws Exception {
    addRecordToCoordJobTable(CoordinatorJob.Status.SUCCEEDED, false, false);
    addRecordToCoordJobTable(CoordinatorJob.Status.RUNNING, false, false);
    JPAService jpaService = Services.get().get(JPAService.class);
    assertNotNull(jpaService);
    Map<String, List<String>> filter = new HashMap<String, List<String>>();
    CoordJobInfoGetJPAExecutor coordInfoGetCmd = new CoordJobInfoGetJPAExecutor(filter, 1, 20);
    CoordinatorJobInfo ret = jpaService.execute(coordInfoGetCmd);
    assertNotNull(ret);
    assertEquals(2, ret.getCoordJobs().size());
    filter.clear();
    filter.put(OozieClient.FILTER_CREATED_TIME_START, Arrays.asList("2012-01-02T10:00"));
    coordInfoGetCmd = new CoordJobInfoGetJPAExecutor(filter, 1, 20);
    try {
        jpaService.execute(coordInfoGetCmd);
        fail("This should not happen. Check the createdTime passed.");
    } catch (JPAExecutorException e) {
        assertEquals(e.getErrorCode(), ErrorCode.E0302);
        assertTrue(e.getMessage().contains(StoreStatusFilter.TIME_FORMAT));
    }
}
