@Test
public void testRecoveryIdExistsAndRecoveryIdsDoNotMatch() throws Exception {
    String newAppId = "not_matching_appid";
    given(hdfsOperationsMock.fileExists(any(Path.class), eq(launcherJobConfig))).willReturn(true);
    given(hdfsOperationsMock.readFileContents(any(Path.class), eq(launcherJobConfig))).willReturn(newAppId);
    executeLauncher();
    String errorMessage = MessageFormat.format("YARN Id mismatch, action file [{0}] declares Id [{1}] current Id [{2}]", "dummy/1", newAppId, applicationId);
    failureDetails.expectedExceptionMessage(errorMessage).expectedErrorCode(EXIT_CODE_0).expectedErrorReason(errorMessage).withStackTrace();
    verify(hdfsOperationsMock).readFileContents(any(Path.class), eq(launcherJobConfig));
    assertFailedExecution();
}
