public void testActionInputCheck() throws Exception {
    String jobId = "0000000-" + new Date().getTime() + "-TestCoordActionInputCheckXCommand-C";
    Date startTime = DateUtils.parseDateOozieTZ("2009-02-01T23:59" + TZ);
    Date endTime = DateUtils.parseDateOozieTZ("2009-02-02T23:59" + TZ);
    CoordinatorJobBean job = addRecordToCoordJobTable(jobId, startTime, endTime);
    new CoordMaterializeTransitionXCommand(job.getId(), 3600).call();
    createTestCaseSubDir("2009/02/05/_SUCCESS".split("/"));
    createTestCaseSubDir("2009/01/15/_SUCCESS".split("/"));
    new CoordActionInputCheckXCommand(job.getId() + "@1", job.getId()).call();
    JPAService jpaService = Services.get().get(JPAService.class);
    CoordinatorActionBean action = jpaService.execute(new CoordActionGetJPAExecutor(job.getId() + "@1"));
    System.out.println("missingDeps " + action.getMissingDependencies() + " Xml " + action.getActionXml());
    if (action.getMissingDependencies().indexOf("/2009/02/05/") >= 0) {
        fail("directory should be resolved :" + action.getMissingDependencies());
    }
    if (action.getMissingDependencies().indexOf("/2009/01/15/") < 0) {
        fail("directory should NOT be resolved :" + action.getMissingDependencies());
    }
}
