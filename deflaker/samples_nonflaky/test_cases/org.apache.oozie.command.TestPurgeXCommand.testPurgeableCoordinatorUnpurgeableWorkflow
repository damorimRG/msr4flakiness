/**
 * Test : The workflow should not get purged, but the coordinator parent should get purged --> neither will get purged
 *
 * @throws Exception if cannot insert records to the database
 */
public void testPurgeableCoordinatorUnpurgeableWorkflow() throws Exception {
    CoordinatorJobBean coordJob = addRecordToCoordJobTable(CoordinatorJob.Status.SUCCEEDED, false, false);
    WorkflowJobBean wfJob = addRecordToWfJobTable(WorkflowJob.Status.SUCCEEDED, WorkflowInstance.Status.SUCCEEDED);
    WorkflowActionBean wfAction = addRecordToWfActionTable(wfJob.getId(), "1", WorkflowAction.Status.OK);
    CoordinatorActionBean coordAction = addRecordToCoordActionTable(coordJob.getId(), 1, CoordinatorAction.Status.SUCCEEDED, "coord-action-get.xml", wfJob.getId(), "SUCCEEDED", 0);
    purgeWithSpecialParameters(wfJob);
    assertCoordinatorJobNotPurged(coordJob);
    assertCoordinatorActionNotPurged(coordAction);
    assertWorkflowJobNotPurged(wfJob);
    assertWorkflowActionNotPurged(wfAction);
}
