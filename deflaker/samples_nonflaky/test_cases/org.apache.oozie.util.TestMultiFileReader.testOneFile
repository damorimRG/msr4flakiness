public void testOneFile() throws Exception {
    File dir = new File(getTestCaseDir());
    File f1 = new File(dir, "file1.txt");
    Writer fw = new OutputStreamWriter(new FileOutputStream(f1), StandardCharsets.UTF_8);
    String str1 = "This is the first line of the only file\nThis is the second line\n";
    fw.write(str1);
    fw.close();
    ArrayList<File> files = new ArrayList<File>();
    files.add(f1);
    MultiFileReader reader = new MultiFileReader(files);
    char[] buf = new char[str1.length()];
    Arrays.fill(buf, '+');
    int numRead = reader.read(buf, 0, 10);
    assertEquals(10, numRead);
    assertEquals(str1.substring(0, 10), new String(buf, 0, 10));
    for (int i = 10; i < buf.length; i++) {
        assertEquals('+', buf[i]);
    }
    numRead = reader.read(buf, 10, str1.length() - 10);
    assertEquals(str1.length() - 10, numRead);
    assertEquals(str1, new String(buf));
    numRead = reader.read();
    assertEquals(-1, numRead);
}
