@Test
public void testLateUncle() {
    final Node a = MapReduceActionBuilder.create().withName("A").build();
    final Node b = MapReduceActionBuilder.create().withName("B").withParent(a).build();
    final Node c = MapReduceActionBuilder.create().withName("C").withParent(a).build();
    final Node d = MapReduceActionBuilder.create().withName("D").withParent(b).build();
    final Node e = MapReduceActionBuilder.create().withName("E").withParent(b).build();
    final Node f = MapReduceActionBuilder.create().withName("F").withParent(c).build();
    final Node g = MapReduceActionBuilder.create().withName("G").withParent(e).build();
    final Node h = MapReduceActionBuilder.create().withName("H").withParent(f).build();
    final Node i = MapReduceActionBuilder.create().withName("I").withParent(d).withParent(g).build();
    final Node j = MapReduceActionBuilder.create().withName("J").withParent(e).withParent(h).build();
    MapReduceActionBuilder.create().withName("K").withParent(i).withParent(j).build();
    final Workflow workflow = new WorkflowBuilder().withName("late-uncle").withDagContainingNode(a).build();
    final Graph graph = new Graph(workflow);
    checkDependencies(workflow.getNodes(), graph);
    final NodeBase A = new ExplicitNode("A", null);
    final NodeBase B = new ExplicitNode("B", null);
    final NodeBase C = new ExplicitNode("C", null);
    final NodeBase D = new ExplicitNode("D", null);
    final NodeBase E = new ExplicitNode("E", null);
    final NodeBase F = new ExplicitNode("F", null);
    final NodeBase G = new ExplicitNode("G", null);
    final NodeBase H = new ExplicitNode("H", null);
    final NodeBase I = new ExplicitNode("I", null);
    final NodeBase J = new ExplicitNode("J", null);
    final NodeBase K = new ExplicitNode("K", null);
    final Start start = new Start("start");
    final End end = new End("end");
    final Fork fork1 = new Fork("fork1");
    final Fork fork2 = new Fork("fork2");
    final Fork fork3 = new Fork("fork3");
    final Join join1 = new Join("join1", fork1);
    final Join join2 = new Join("join2", fork2);
    final Join join3 = new Join("join3", fork3);
    end.addParent(K);
    K.addParent(join3);
    join3.addParent(I);
    join3.addParent(J);
    I.addParent(fork3);
    J.addParent(fork3);
    fork3.addParent(join1);
    join1.addParent(join2);
    join1.addParent(H);
    join2.addParent(D);
    join2.addParent(G);
    G.addParent(E);
    D.addParent(fork2);
    E.addParent(fork2);
    fork2.addParent(B);
    B.addParent(fork1);
    H.addParent(F);
    F.addParent(C);
    C.addParent(fork1);
    fork1.addParent(A);
    A.addParent(start);
    final List<NodeBase> nodes = Arrays.asList(start, end, fork1, fork2, fork3, join1, join2, join3, A, B, C, D, E, F, G, H, I, J, K);
    checkEqualStructureByNames(nodes, graph);
// nodesToPng.withWorkflow(workflow);
// nodesToPng.withGraph(graph);
}
