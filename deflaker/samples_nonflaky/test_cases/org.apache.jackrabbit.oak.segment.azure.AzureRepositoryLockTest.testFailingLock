@Test
public void testFailingLock() throws URISyntaxException, IOException, StorageException {
    CloudBlockBlob blob = container.getBlockBlobReference("oak/repo.lock");
    new AzureRepositoryLock(blob, () -> {
    }, 0).lock();
    try {
        new AzureRepositoryLock(blob, () -> {
        }, 0).lock();
        fail("The second lock should fail.");
    } catch (IOException e) {
    // it's fine
    }
}
