public void testMessage_withTimedout() throws Exception {
    Date start = DateUtils.addMonths(new Date(), -1);
    // 4 hrs
    Date end = DateUtils.addHours(new Date(), 4);
    Date createdTime = start;
    final CoordinatorJobBean job1 = addRecordToCoordJobTable(CoordinatorJob.Status.RUNNING, start, end, createdTime, true, false, 12);
    addRecordToCoordActionTable(job1.getId(), 12, CoordinatorAction.Status.TIMEDOUT);
    final CoordinatorJobBean job2 = addRecordToCoordJobTable(CoordinatorJob.Status.RUNNING, start, end, createdTime, true, false, 4);
    addRecordToCoordActionTable(job2.getId(), 4, CoordinatorAction.Status.TIMEDOUT);
    ExtendedAbandonedCoordCheckerRunnable coordChecked = new ExtendedAbandonedCoordCheckerRunnable(10);
    coordChecked.run();
    String msg = coordChecked.getMessage();
    assertTrue(msg.contains(job1.getId()));
    assertFalse(msg.contains(job2.getId()));
}
