/**
 * Frequency faster/slower than than maximum
 *
 * @throws Exception
 */
public void testCheckMaximumFrequency() throws Exception {
    assertTrue(Services.get().getConf().getBoolean("oozie.service.coord.check.maximum.frequency", false));
    _testCheckMaximumFrequencyHelper("5");
    _testCheckMaximumFrequencyHelper("10");
    _testCheckMaximumFrequencyHelper("${coord:hours(2)}");
    _testCheckMaximumFrequencyHelper("${coord:days(3)}");
    _testCheckMaximumFrequencyHelper("${coord:months(4)}");
    try {
        _testCheckMaximumFrequencyHelper("3");
        fail();
    } catch (CommandException ce) {
        assertEquals(ErrorCode.E1003, ce.getErrorCode());
        assertTrue(ce.getMessage().contains("Coordinator job with frequency [3] minutes is faster than allowed maximum of 5 " + "minutes"));
    }
    try {
        Services.get().getConf().setBoolean("oozie.service.coord.check.maximum.frequency", false);
        _testCheckMaximumFrequencyHelper("5");
        _testCheckMaximumFrequencyHelper("10");
        _testCheckMaximumFrequencyHelper("${coord:hours(2)}");
        _testCheckMaximumFrequencyHelper("${coord:days(3)}");
        _testCheckMaximumFrequencyHelper("${coord:months(4)}");
        _testCheckMaximumFrequencyHelper("3");
    } finally {
        Services.get().getConf().setBoolean("oozie.service.coord.check.maximum.frequency", true);
    }
}
