public void testWriteReadLockOozies() throws Exception {
    // Simulate having two different Oozies by using two different ZKLocksServices instead of using the same one in two threads
    ZKLocksService zkls1 = new ZKLocksService();
    ZKLocksService zkls2 = new ZKLocksService();
    try {
        zkls1.init(Services.get());
        zkls2.init(Services.get());
        checkWriteReadLock(zkls1, zkls2);
    } finally {
        zkls1.destroy();
        zkls2.destroy();
    }
}
