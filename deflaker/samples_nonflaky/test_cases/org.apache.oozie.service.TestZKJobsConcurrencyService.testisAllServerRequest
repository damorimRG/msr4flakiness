public void testisAllServerRequest() throws Exception {
    ZKJobsConcurrencyService zkjcs = new ZKJobsConcurrencyService();
    try {
        zkjcs.init(Services.get());
        assertTrue(zkjcs.isAllServerRequest(null));
        Map<String, String[]> param = new HashMap<String, String[]>();
        assertTrue(zkjcs.isAllServerRequest(param));
        param.put(RestConstants.ALL_SERVER_REQUEST, new String[] { "test" });
        assertTrue(zkjcs.isAllServerRequest(param));
        param.put(RestConstants.ALL_SERVER_REQUEST, new String[] { "true" });
        assertTrue(zkjcs.isAllServerRequest(param));
        param.put(RestConstants.ALL_SERVER_REQUEST, new String[] { "false" });
        assertFalse(zkjcs.isAllServerRequest(param));
    } finally {
        zkjcs.destroy();
    }
}
