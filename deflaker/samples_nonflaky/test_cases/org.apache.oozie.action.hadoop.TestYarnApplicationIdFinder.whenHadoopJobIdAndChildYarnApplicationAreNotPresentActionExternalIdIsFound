@Test
public void whenHadoopJobIdAndChildYarnApplicationAreNotPresentActionExternalIdIsFound() throws Exception {
    when(hadoopJobIdFinder.find()).thenReturn(null);
    when(reader.read()).thenReturn(Collections.emptyList());
    when(workflowActionBean.getExternalId()).thenReturn("application_1534164756526_0000");
    assertEquals("no Hadoop Job ID nor YARN applications: WorkflowActionBean.externalId should be found", "application_1534164756526_0000", yarnApplicationIdFinder.find());
    when(applicationReport.getApplicationType()).thenReturn("Oozie Launcher");
    when(reader.read()).thenReturn(new ArrayList<>(Arrays.asList(applicationReport)));
    assertEquals("no Hadoop Job ID nor YARN applications of MAPREDUCE type: WorkflowActionBean.externalId should be found", "application_1534164756526_0000", yarnApplicationIdFinder.find());
    assertEquals("no Hadoop Job ID nor YARN applications of the same workflow: WorkflowActionBean.externalId should be found", "application_1534164756526_0000", yarnApplicationIdFinder.find());
}
