public void testAuthorizedSystemInfoFailure() throws Exception {
    init(true, "proxyUser,regularUser", false, false, true);
    try {
        services.get(AuthorizationService.class).authorizeForSystemInfo("regularUser1", "proxyUser1");
        fail("Should have thrown exception because regularUser1 or proxyUser1 are not authorized to access system info");
    } catch (AuthorizationException ex) {
        assertEquals("Exception message is different than expected", "E0503: User [regularUser1] does not have admin " + "privileges", ex.getMessage());
    }
}
