@Test
public void testCustomAnnotationPatterns() throws Exception {
    final DefaultConfiguration checkConfig = createModuleConfig(VisibilityModifierCheck.class);
    checkConfig.addAttribute("ignoreAnnotationCanonicalNames", "com.puppycrawl.tools.checkstyle.checks.design." + "InputVisibilityModifierAnnotated.CustomAnnotation");
    final String[] expected = { "16:28: " + getCheckMessage(MSG_KEY, "publicJUnitRule"), "19:28: " + getCheckMessage(MSG_KEY, "fqPublicJUnitRule"), "22:19: " + getCheckMessage(MSG_KEY, "googleCommonsAnnotatedPublic"), "25:12: " + getCheckMessage(MSG_KEY, "googleCommonsAnnotatedPackage"), "28:22: " + getCheckMessage(MSG_KEY, "googleCommonsAnnotatedProtected"), "31:19: " + getCheckMessage(MSG_KEY, "fqGoogleCommonsAnnotatedPublic"), "34:12: " + getCheckMessage(MSG_KEY, "fqGoogleCommonsAnnotatedPackage"), "37:22: " + getCheckMessage(MSG_KEY, "fqGoogleCommonsAnnotatedProtected"), "48:19: " + getCheckMessage(MSG_KEY, "unannotatedPublic"), "49:12: " + getCheckMessage(MSG_KEY, "unannotatedPackage"), "50:22: " + getCheckMessage(MSG_KEY, "unannotatedProtected"), "59:35: " + getCheckMessage(MSG_KEY, "publicJUnitClassRule"), "62:35: " + getCheckMessage(MSG_KEY, "fqPublicJUnitClassRule") };
    verify(checkConfig, getPath("InputVisibilityModifierAnnotated.java"), expected);
}
