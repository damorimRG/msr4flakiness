/**
 * Test SLAOperations handles unexpected alert-events in xml
 * @throws Exception
 */
public void testSLAOperations() throws Exception {
    String slaXml = " <sla:info xmlns:sla='uri:oozie:sla:0.2'>" + " <sla:nominal-time>2009-03-06T10:00Z</sla:nominal-time>" + " <sla:should-start>5</sla:should-start>" + " <sla:should-end>120</sla:should-end>" + " <sla:max-duration>100</sla:max-duration>" + " <sla:alert-events>\"invalid_event_miss\'</sla:alert-events>" + " <sla:alert-contact>abc@example.com</sla:alert-contact>" + "</sla:info>";
    Element eSla = XmlUtils.parseXml(slaXml);
    SLAOperations.createSlaRegistrationEvent(eSla, "job-id1", "parent-id1", AppType.WORKFLOW_JOB, getTestUser(), "test-appname", log, false);
    SLARegistrationBean reg = SLARegistrationQueryExecutor.getInstance().get(SLARegQuery.GET_SLA_REG_ALL, "job-id1");
    assertEquals("END_MISS", reg.getAlertEvents());
}
