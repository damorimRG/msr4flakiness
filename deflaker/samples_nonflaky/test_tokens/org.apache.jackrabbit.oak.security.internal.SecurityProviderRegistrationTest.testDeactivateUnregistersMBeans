getMock
 assert that MBean is no longer registered
mockAc
notNullValue
 activate
when
nullValue
deactivate
configWithRequiredServiceIds
bindRestrictionProvider
assertNotNull
context
 validate that registration is not performed
serviceA
 assert that SecurityProvider is registered
 register required service
 assert that MBean is registered
sr
LoginModuleMBean is still registered
mockRp
getProperty
 assert that service is now unregistered
thenReturn
bindAuthenticationConfiguration
assertThat
getService
testDeactivateUnregistersMBeans
assertNull
service
SERVICE_PID
activate
mock
registration
 register AuthenticationConfiguration to trigger MBean registration
 manually deactivate, simulate AuthenticationConfiguration going away due to new config for it coming in
bundleContext
LoginModuleMBean is not registered
