value2
value1
val3
</prepare>
credProperties
launcherConf
<param>OUTPUT=${outputDir}/pig-output</param>
property2
<message>Pig failed, error message[${wf:errorMessage(wf:lastErrorNode())}]</message>
property1
<value>value2</value>
assertNotNull
context
action
actionConf
ae
abc=org.apache.oozie.action.hadoop.InsertTestToken
CredentialsProviderFactory
<error to='fail' />
<value>${queueName}</value>
getProperties
destroy
 Setting the credential properties in launcher conf
testCredentialsModule
<pig>
<script>org/apache/oozie/examples/pig/id.pig</script>
fail
contains
</kill>
<ok to='end' />
getType
<value>true</value>
<param>INPUT=${inputDir}</param>
setCredentialTokens
</credentials>
<job-tracker>${jobTracker}</job-tracker>
<action name='pig1' cred='abcname'>
 Try to load the token after being defined in oozie-site; should work correctly
getActions
test1
</pig>
createBaseHadoopConf
oozie.credentials.credentialclasses
<delete path='outputdir' />
<value>value1</value>
<name>${property3}</name>
<name>mapred.job.queue.name</name>
getErrorCode
assertTrue
get
prop
copy
<credentials>
<name-node>${nameNode}</name-node>
set
XmlUtils
ABC Token
<property>
getMessage
assertEquals
actionXmlconf
prop3
Should have gotten an exception but did not
XConfiguration
type [abc]
getToken
tk
getSecretKey
</configuration>
<workflow-app xmlns='uri:oozie:workflow:0.2.5' name='pig-wf'>
<name>mapred.compress.map.output</name>
</workflow-app>
<prepare>
credentialsConf
setCred
ConfigurationService
setCredentialPropertyToActionConf
StandardCharsets
<name>property2</name>
parseXml
<end name='end' />
<start to='pig1' />
secKey
aee
InsertTestToken
credentials
 action job configuration
actionXml
wfBean
<credential name='abcname' type='abc'>
</action>
 Define 'abc' token type in oozie-site
addRecordToWfJobTable
getConf
JA020
name [abcname]
<name>property1</name>
<kill name='fail'>
setType
<configuration>
setConf
abcname
actionxml
</property>
</credential>
 Try to load the token without it being defined in oozie-site; should get an exception
<value>${value3}</value>
