pp
getMock
 principalprovider must only be hit once
getName
getPrincipalProvider
 call 'canHandle' twice
canHandle
getFilterProvider
testCanHandlePopulatesCache
when
principal
times
getPrincipal
getConfiguration
assertTrue
root
getTestSystemUser
verify
sp
singleton
set
thenReturn
getNamePathMapper
filter
getFilter
pc
mock
