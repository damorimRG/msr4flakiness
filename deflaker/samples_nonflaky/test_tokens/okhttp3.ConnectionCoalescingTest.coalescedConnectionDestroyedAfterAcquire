Dns
 Get a reference to the connection so we can violently destroy it.
request2Listener
client2
client1
onResponse
 Let request1 proceed to make a connection.
eventListenerFactory
host
connection
 Wait until request2 acquires the connection before we destroy it violently.
proceed
getHostName
connectionAcquired
listener1
dns
sanUrl
latch4
clientTestRule
setResponseCode
execute
fail
 Wait for request2 to guarantee we make 2 separate connections to the server.
call1
call2
latch1
latch2
latch3
server
request
assert200Http2Response
onFailure
 We obtained the coalesced connection. Let request1 violently destroy it.
get
await
coalescedConnectionDestroyedAfterAcquire
client
countDown
close
 We have the connection and it's in the pool. Let request2 proceed to make a connection.
lookup
subList
chain
set
san.com
e
newBuilder
newCall
url
enqueue
connectStart
 Wait until request1 makes the connection and puts it in the connection pool.
build
response
socket
wrap
addNetworkInterceptor
