getVersionGarbageCollector
 create some children under /foo/bar
waitUntil
ns2
ns1
concurrentChildOperations
LeaseCheckMode
b1
b2
bar
 wait two hours
getChildNodeEntries
setLeaseCheckMode
Lists
children
assertNotNull
merge
TimeUnit
toMillis
/foo/bar/child-0
setClock
runBackgroundOperations
clock
node
Revision
size
getChildNode
child-2
child-1
 make changes visible on both cluster nodes
child
getNodeStore
invalidateNodeCache
child-0
setAsyncDelay
getTime
foo
setDocumentStore
 remove child-0 on cluster node 1
setClusterId
System
remove
Iterables
 OAK-3646
builder
getRoot
getLastRevision
gc
 remove child-1 on cluster node 2
 on cluster node 2, remove of child-0 is not yet visible
newArrayList
 this will make changes from cluster node 1 visible
 push _lastRev updates to DocumentStore
 this will remove child-0 and child-1 doc
asDocumentNodeState
 forget cache entry for deleted node
assertEquals
store
invalidate
newBuilder
currentTimeMillis
builderProvider
