pp
 for a non-system-user principal the principal resolution must never be triggered
getMock
getName
getPrincipalProvider
 call 'canHandle' twice
canHandle
getFilterProvider
assertFalse
when
getPrincipal
getConfiguration
testCanHandleUserPrincipalDoesntHitProvider
root
verify
sp
singleton
set
thenReturn
userPrincipal
getNamePathMapper
filter
getFilter
never
getTestUser
pc
mock
