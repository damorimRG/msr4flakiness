server
request
body
newRequest
getHeader
Authorization
Successful auth!
client
GET / HTTP/1.1
 ...then succeed the fourth time.
authenticator
Authenticator
readAscii
addHeader
 ...but the three requests that follow requests include an authorization header.
byteStream
takeRequest
getResponse
WWW-Authenticate: Basic realm="protected area"
setResponseCode
setBody
assertThat
setDefault
newBuilder
/
Integer
authenticateWithGet
enqueue
getRequestLine
 Fail auth three times...
 No authorization header for the first request...
build
response
isNull
Please authenticate.
isEqualTo
Basic 
RecordingAuthenticator
pleaseAuthenticate
