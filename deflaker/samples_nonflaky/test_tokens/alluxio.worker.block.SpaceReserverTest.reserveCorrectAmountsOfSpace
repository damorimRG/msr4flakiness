submit
freeSpace
spaceReserver
ServerConfiguration
HDD
global
getCapacityBytesOnTiers
when
 400 * 0.2 + 1000 * 0.3 = 380
0.71
storeMeta
toResource
/a
getStoreMeta
/b
mUserState
of
HeartbeatContext
 Run the space reserver once.
verify
mExecutorService
blockWorker
0.81
c
getAbsolutePath
thenReturn
Sessions
usedCapacityBytesOnTiers
newFolder
execute
ImmutableMap
capacityBytesOnTiers
HeartbeatScheduler
tmpFolderPath
/
reserveCorrectAmountsOfSpace
getUsedBytesOnTiers
MEM
mock
0.7
mTempFolder
0.8
 400 * 0.2 = 80
 Create two tiers named "MEM" and "HDD" with aliases 0 and 1.
TieredBlockStoreTestUtils
setupConfWithMultiTier
PropertyKey
