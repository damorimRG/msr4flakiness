numberOfEntriesWrittenBeforeFailure
getLocation
badOut
when
delete
journalFile
INJECTED_IO_ERROR_MESSAGE
writeJournalEntries
file
flush
 journal entries that have not been explicitly flushed will be lost.
checkJournalEntries
tryWriteAndExpectToFail
startSN
getCurrentLog
close
createMockDataOutputStream
write
UfsJournalSnapshot
 Flush the journal, recovering from the Ufs failure.
thenReturn
mUfs
supportsFlush
 Write another entry without flushing.
any
anyInt
getSnapshot
nextSN
doThrow
Mockito
mJournal
toString
writer
 This file is complete.
flushAfterUfsFailure
snapshot
