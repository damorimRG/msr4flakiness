BackupPRequest
backup
setNumMasters
backupId
String
setTargetDirectory
GET_PRIMARY_INDEX_TIMEOUT_MS
1sec
startMaster
setOptions
waitFor
100ms
 Find standby master index.
setRunAsync
setAllowLeader
3sec
waitForBackup
getBackupId
format
BackupPOptions
addProperty
 Restart follower to restore HA.
getError
setLocalFileSystem
waitForAndKillPrimaryMaster
 Validate backup works with delegation.
true
getBackupStatus
backups
followerIdx
getPrimaryMasterIndex
CommonUtils
 Kill leader immediately before it receives the next heartbeat from backup-worker.
AlluxioTestDirectory
stopMaster
 Tests various protocols and configurations for backup delegation during fail-overs.
backupDelegationFailoverProtocol
setClusterName
notifySuccess
Backup abandoned.
 Wait until follower steps up.
PRIMARY_KILL_TIMEOUT_MS
 Validate delegated backup works again.
primaryIdx
MultiProcessCluster
 Schedule async backup.
createTemporaryDirectory
mCluster
 Kill follower immediately before it sends the next heartbeat to leader.
getAbsolutePath
e
PortCoordination
start
assertEquals
newBuilder
build
toString
 Wait until backup is abandoned.
 Follower should step-up without problem and accept backup requests.
JournalType
getMetaMasterClient
Unexpected error while getting backup status: %s
PropertyKey
