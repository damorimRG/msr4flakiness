 Check whether transactions are rolled back or not
Expected exception due to commit failure but didn't get any
PREP
getId
WorkflowInstance
deactivate
testExecuteBatchUpdateInsertDeleteRollBack
BatchQueryExecutor
wfBean
addRecordToWfJobTable
getErrorCode
executor
get
WorkflowJob
waBean
updateList
add
getStatusStr
WorkflowActionQuery
WorkflowActionQueryExecutor
insertList
Expected exception but didnt get any
WorkflowJobQueryExecutor
assertEquals
SkipCommitFaultInjection
 Add two actions to insert list
setStatus
FaultInjection
1
fail
jpaee
2
WorkflowJobQuery
WorkflowAction
org.apache.oozie.command.SkipCommitFaultInjection
setSystemProperty
true
activate
getInstance
createWorkflowAction
action1
 set fault injection to true, so transaction is roll backed
ErrorCode
job
action2
 status should not be RUNNING
executeBatchInsertUpdateDelete
