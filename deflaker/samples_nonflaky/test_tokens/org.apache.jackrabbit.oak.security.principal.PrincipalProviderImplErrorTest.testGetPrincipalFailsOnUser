getMock
getName
createPrincipalProvider
thenReturn
principalName
testGetPrincipalFailsOnUser
when
userMock
p
times
getPrincipal
getTestUser
assertNull
um
mock
verify
getAuthorizable
testUser
thenThrow
