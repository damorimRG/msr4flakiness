addRecordToBundleActionTable
 10 min later
pausetime=
run
BundleJobQueryExecutor
getStatus
DateUtils
addRecordToCoordActionTable
setPauseTime
later
setNextMaterializedTime
CoordinatorAction
Job
 setting dummy old pause time
evenLater
testBundlePauseExtendMaterializesCoordinator
 persist corresponding bundle action bean
 before the new pausetime
setCoordId
BundleActionQueryExecutor
CoordinatorJob
 change pausetime to even later
formatDateOozieTZ
COORD-TEST
CoordJobQuery
lastMod
executeUpdate
 20 sec later
BundleJobQuery
getTime
getId
System
sleep
coord
CoordJobQueryExecutor
 coord job with num actions materialized = 1
assertTrue
get
setBundleId
startTime
after
bundle
bundleAction
 simulating run which would happen usually after interval
addRecordToBundleJobTable
assertEquals
getLastModifiedTime
addRecordToCoordJobTable
 time for the queued CoordChangeXCommand to complete
Thread
call
getPauseTime
runnable
coord-action-get.xml
BundleActionQuery
currentTimeMillis
endTime
getInstance
