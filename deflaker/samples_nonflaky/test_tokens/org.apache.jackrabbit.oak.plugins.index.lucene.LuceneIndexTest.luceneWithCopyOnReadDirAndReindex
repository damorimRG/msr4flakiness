HOOK
before
getInvalidFileCount
dir
luceneWithCopyOnReadDirAndReindex
bar
copier
ImmutableSet
Lists
sameThreadExecutor
foo2
foo3
 If reindex case handled properly then invalid count should be zero
add
/foo
INDEX_DEFINITIONS_NAME
indexed
index
 1. Create index in two increments
/oak:index/lucene
idxDirs
bar3
processCommit
size
setProperty
child
 orphaned directory must be removed
defnState
foo
lucene
update
bar2
of
root
builder
tracker
REINDEX_PROPERTY_NAME
definition
CommitInfo
getIndexRootDirectory
getIndexDir
 2. Reindex. This would create index with different index content
newArrayList
getLocalIndexes
isEmpty
newLucenePropertyIndexDefinition
assertEquals
getNodeState
nonEmptyDirs
assertQuery
