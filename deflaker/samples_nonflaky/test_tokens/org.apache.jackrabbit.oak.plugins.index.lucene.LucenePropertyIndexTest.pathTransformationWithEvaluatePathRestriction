fooIndex
//*[*/@foo = 'bar']
assertPlanAndQueryXPath
/jcr:root/test/*[d/*/@foo = 'bar']
/jcr:root/test/*[j:c/@foo = 'bar']
commit
/test
asList
getTree
bar
 any descendant
property
 what we see here
noAsync
/jcr:root/test/c[d/*/@foo = 'bar']
//*[d/*/@foo = 'bar']
test
getChild
/jcr:root/test/*[*/@foo = 'bar']
rootTree
 exact path
/
indexRule
setProperty
evaluatePathRestrictions
nt:base
/jcr:root/test/a[j:c/@foo = 'bar']
idx
addChild
/jcr:root/test//*[j:c/@foo = 'bar']
 direct children
foo
/jcr:root/test//*[d/*/@foo = 'bar']
/test/c/d
j:c
root
oak:index
pathTransformationWithEvaluatePathRestriction
a
/jcr:root/test/a[*/@foo = 'bar']
b
c
d
//*[j:c/@foo = 'bar']
/test/c
lucene:fooIndex(/oak:index/fooIndex)
/test/a
/jcr:root/test//*[*/@foo = 'bar']
 no path restriction
build
propertyIndex
idxBuilder
