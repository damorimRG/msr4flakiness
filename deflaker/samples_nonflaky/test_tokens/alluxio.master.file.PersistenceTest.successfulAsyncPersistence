checkPersistenceInProgress
ufs
 Create the temporary UFS file.
UnderFileSystemConfiguration
ServerConfiguration
run
checkPersistenceRequested
 schedule the async persistence, checking the internal state.
getPersistenceState
when
getTempUfsPath
persistJobs
Assert
create
UnderFileSystem
Status
successfulAsyncPersistence
getPersistJobs
thenReturn
touch
waitUntilPersisted
execute
HeartbeatScheduler
mMockJobMasterClient
testFile
jobId
getFileId
defaults
anyLong
job
getFileInfo
createJobInfo
PersistenceState
scheduleAsyncPersistence
 Mock the job service interaction.
global
jobInfo
random
GET_STATUS_CONTEXT
createTestFile
 Repeatedly execute the persistence checker heartbeat, checking the internal state.
HeartbeatContext
get
UnderFileSystemUtils
 Create a file and check the internal state.
mFileSystemMaster
getJobStatus
fileInfo
assertEquals
nextLong
any
ScheduleAsyncPersistenceContext
Mockito
toString
