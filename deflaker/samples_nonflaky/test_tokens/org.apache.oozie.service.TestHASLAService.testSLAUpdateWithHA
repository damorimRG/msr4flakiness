 Coord Action of jobs 1-4 not started yet
sla1_nodummy
 2 hrs passed
 Coord Action of jobs 5-6 already started and currently running (to test history set)
 start another dummy oozie instance (dummy sla and event handler services)
 Test HistoryPurgeWorker purges Action 5,6 from history set
 Action 1, 2 are removed from both servers
run
 Action 6 was processed as END_MISS in updateAllSlaStatus, put into history set
dummyEhs
 Action 5 was processed as END_MISS in updateAllSlaStatus, put into history set
iterator
FAILED
CoordinatorAction
getEventProcessed
0000005-130521183438837-oozie-test-C@1
SLASummaryQueryExecutor
add
 Action 2 Succeeded on dummy server
createDBEntryForStarted
init
 Coord Action 2,4 run and update status on *dummy* server
RUNNING
itr
expectedEndTS1
hasNext
 SlaMap on both Servers synced
0000002-130521183438837-oozie-test-C@1
getHistorySet
SLASummaryQuery
size
isJobIdInSLAMap
SUCCEEDED
expectedEndTS2
name
isJobIdInHistorySet
0000003-130521183438837-oozie-test-C@1
dummyOozie_1
next
dummySlaCalcMem
0000001-130521183438837-oozie-test-C@1
getSingleValue
assertFalse
 2 jobs has end miss, waiting for job to complete
EventStatus
sla2_dummy
 Both servers iterate SlaMap (updateAllSlaStatus)
expectedStartTS
sla2_nodummy
eventProc
System
0000004-130521183438837-oozie-test-C@1
updateCoordAction
 Coord Action 1,3 run and update status on *non-dummy* server
http://blah
assertTrue
get
teardown
testSLAUpdateWithHA
 1 hour passed
a
getConf
sla1_dummy
0000006-130521183438837-oozie-test-C@1
slaMapKeys
assertEquals
getSLACalculator
 Action 1 Succeeded on non-dummy server
createDBEntry
slaCalcMem
Services
assertNull
id2
id1
currentTimeMillis
id4
 1 hour ahead
id3
id6
id5
setEventHandlerService
addJobStatus
getInstance
slas
updateAllSlaStatus
byteValue
